"use strict";$(function(){$(".content_list").mCustomScrollbar();var l,a,r,i=$("audio"),o=new Player(i);function e(i){var s=$(".song_info_pic img"),e=$(".song_info_name a"),t=$(".song_info_singer a"),n=$(".song_info_ablum a"),c=$(".music_progress_name"),l=$(".music_progress_time"),a=$(".mask_bg");s.attr("src",i.cover),e.text(i.name),t.text(i.singer),n.text(i.album),c.text(i.name+" / "+i.singer),l.text("00:00 / "+i.time),a.css("background","url('"+i.cover+"')")}function n(i){r=new Lyric(i.link_lrc);var t=$(".song_lyric");t.html(""),r.loadLyric(function(){$.each(r.lyrics,function(i,s){var e=$("<li>"+s+"</li>");t.append(e)})})}$.ajax({url:"./source/musiclist.json",dataType:"json",success:function(i){o.musicList=i;var t=$(".content_list ul");$.each(i,function(i,s){var e=function(i,s){var e=$('<li class="list_music">\n<div class="list_check"><i></i></div>\n<div class="list_number">'+(i+1)+'</div>\n<div class="list_name">'+s.name+'     <div class="list_menu">\n          <a href="javascript:;" title="播放" class=\'list_menu_play\'></a>\n          <a href="javascript:;" title="添加"></a>\n          <a href="javascript:;" title="下载"></a>\n          <a href="javascript:;" title="分享"></a>\n     </div>\n</div>\n<div class="list_singer">'+s.singer+'</div>\n<div class="list_time">\n     <span>'+s.time+'</span>\n     <a href="javascript:;" title="删除" class=\'list_menu_del\'></a>\n</div>\n</li>');return e.get(0).index=i,e.get(0).music=s,e}(i,s);t.append(e)}),e(i[0]),n(i[0])},error:function(i){console.log(i)}}),function(){var i=$(".music_progress_bar"),s=$(".music_progress_line"),e=$(".music_progress_dot");(l=Progress(i,s,e)).progressClick(function(i){o.musicSeekTo(i)}),l.progressMove(function(i){o.musicSeekTo(i)});var t=$(".music_voice_bar"),n=$(".music_voice_line"),c=$(".music_voice_dot");(a=Progress(t,n,c)).progressClick(function(i){o.musicVoiceSeekTo(i)}),a.progressMove(function(i){o.musicVoiceSeekTo(i)})}(),function(){$(".content_list").delegate(".list_music","mouseenter",function(){$(this).find(".list_menu").stop().fadeIn(100),$(this).find(".list_time a").stop().fadeIn(100),$(this).find(".list_time span").stop().fadeOut(100)}),$(".content_list").delegate(".list_music","mouseleave",function(){$(this).find(".list_menu").stop().fadeOut(100),$(this).find(".list_time a").stop().fadeOut(100),$(this).find(".list_time span").stop().fadeIn(100)}),$(".content_list").delegate(".list_check","click",function(){$(this).toggleClass("list_checked")});var s=$(".music_play");$(".content_list").delegate(".list_menu_play","click",function(){var i=$(this).parents(".list_music");$(this).toggleClass("list_menu_play2"),i.siblings().find(".list_menu_play").removeClass("list_menu_play2"),$(this).hasClass("list_menu_play2")?(s.addClass("music_play2"),i.find("div").css("color","#fff"),i.siblings().find("div").css("color","rgba(255,255,255,0.5)")):(s.removeClass("music_play2"),i.find("div").css("color","rgba(255,255,255,0.5)")),i.find(".list_number").toggleClass("list_number2"),i.siblings().find(".list_number").removeClass("list_number2"),o.playMusic(i.get(0).index,i.get(0).music),e(i.get(0).music),n(i.get(0).music)}),s.click(function(){-1==o.currentIndex?$(".list_music").eq(0).find(".list_menu_play").trigger("click"):$(".list_music").eq(o.currentIndex).find(".list_menu_play").trigger("click")}),$(".music_pre").click(function(){$(".list_music").eq(o.preIndex()).find(".list_menu_play").trigger("click")}),$(".music_next").click(function(){$(".list_music").eq(o.nextIndex()).find(".list_menu_play").trigger("click")}),$(".content_list").delegate(".list_menu_del","click",function(){var i=$(this).parents(".list_music");i.get(0).index==o.currentIndex&&$(".music_next").trigger("click"),i.remove(),o.changeMusic(i.get(0).index),$(".list_music").each(function(i,s){s.index=i,$(s).find(".list_number").text(i+1)})}),o.musicTimeUpdate(function(i,s,e){$(".music_progress_time").text(e);var t=i/s*100;l.setProgress(t);var n=r.currentIndex(i),c=$(".song_lyric li").eq(n);c.addClass("cur"),c.siblings().removeClass("cur"),n<=2||$(".song_lyric").css({marginTop:30*(2-n)})}),$(".music_voice_icon").click(function(){$(this).toggleClass("music_voice_icon2"),$(this).hasClass("music_voice_icon2")?o.musicVoiceSeekTo(0):o.musicVoiceSeekTo(1)})}()});
//# sourceMappingURL=index.min.js.map
